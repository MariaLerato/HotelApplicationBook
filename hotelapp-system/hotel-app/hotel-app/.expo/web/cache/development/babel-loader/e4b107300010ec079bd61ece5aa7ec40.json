{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport firebase from \"./firebase\";\nvar db = firebase.ref('/users');\nvar auth = firebase.app.auth();\n\nvar Client = function () {\n  function Client() {\n    _classCallCheck(this, Client);\n  }\n\n  _createClass(Client, [{\n    key: \"signUp\",\n    value: function signUp(email, password) {\n      return firebase.app.auth().createUserWithEmailAndPassword(email, password).then(function (res) {\n        res.user.sendEmailVerification().then(function (action) {\n          alert('Verification Email ');\n          db.child(res.user.uid).set({\n            email: email,\n            uid: res.user.uid\n          });\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"signIn\",\n    value: function signIn(email, password, navigation) {\n      firebase.app.auth().signInWithEmailAndPassword(email, password).then(function (res) {\n        if (res.user.emailVerified) {\n          console.log('email verified');\n          navigation.navigate('/bottomTab');\n          localStorage.setItem('userid', res.user.uid);\n          console.log('userid', res.user.uid);\n        } else {\n          console.log('Please verify your email address ');\n          res.user.sendEmailVerification().then(function (res) {\n            console.log('we send an email again, please verify your email');\n          }).catch(function (err) {\n            console.log(err.message);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"resetPassword\",\n    value: function resetPassword(email) {\n      auth.sendPasswordResetEmail(email).then(function () {\n        console.log('password reset');\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"getLoggedData\",\n    value: function getLoggedData(id) {\n      return firebase.ref(\"/user/\" + id);\n    }\n  }, {\n    key: \"logOut\",\n    value: function logOut(navigation) {\n      firebase.app.auth().signOut().then(function () {\n        console.log('logged out');\n        localStorage.removeItem('userid');\n        navigation.goBack();\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }]);\n\n  return Client;\n}();\n\nexport default new Client();","map":{"version":3,"sources":["C:/Users/CodeTribe00H/Desktop/HotelApplication/hotelapp-system/hotel-app/hotel-app/Components/firebase/authentication.jsx"],"names":["firebase","db","ref","auth","app","Client","email","password","createUserWithEmailAndPassword","then","res","user","sendEmailVerification","action","alert","child","uid","set","catch","err","console","log","message","navigation","signInWithEmailAndPassword","emailVerified","navigate","localStorage","setItem","sendPasswordResetEmail","id","signOut","removeItem","goBack"],"mappings":"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","sourcesContent":["import firebase from './firebase'\r\n\r\nconst db = firebase.ref('/users')\r\nconst auth = firebase.app.auth()\r\n\r\nclass Client{\r\n     signUp(email,password) {\r\n        return firebase.app.auth().createUserWithEmailAndPassword(email,password).then(res => {\r\n         res.user.sendEmailVerification()\r\n            .then(action => {\r\n                alert('Verification Email ')\r\n                db.child(res.user.uid).set({\r\n                    email: email,\r\n                    uid: res.user.uid\r\n                })\r\n            }).catch( err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err.message)\r\n        })\r\n    }\r\n    signIn(email,password,navigation){\r\n        firebase.app.auth().signInWithEmailAndPassword(email,password).then(res=>{\r\n            if(res.user.emailVerified){\r\n                console.log('email verified')\r\n                navigation.navigate('/bottomTab')\r\n                localStorage.setItem('userid',res.user.uid)\r\n                console.log('userid',res.user.uid)\r\n            }else {\r\n                console.log('Please verify your email address ')\r\n                res.user.sendEmailVerification().then(res=>{\r\n                    console.log('we send an email again, please verify your email')\r\n                }).catch(err =>{\r\n                    console.log(err.message)\r\n                })\r\n            }\r\n        })\r\n    }\r\n    resetPassword(email){\r\n        auth.sendPasswordResetEmail(email).then(()=>{\r\n            console.log('password reset')\r\n        }).catch(err=>{\r\n            console.log(err.message)\r\n        })\r\n    }\r\n    getLoggedData(id){\r\n        return firebase.ref(`/user/${id}`)\r\n    }\r\n    logOut(navigation){\r\n        firebase.app.auth().signOut().then(() => {\r\n            console.log('logged out')\r\n            localStorage.removeItem('userid')\r\n            navigation.goBack()\r\n        }).catch(err => {\r\n            console.log(err.message)\r\n        })\r\n    }\r\n}\r\nexport default new Client()"]},"metadata":{},"sourceType":"module"}