{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport firebase from \"./firebase\";\nvar db = firebase.ref('/client');\nvar auth = firebase.app.auth();\n\nvar Client = function () {\n  function Client() {\n    _classCallCheck(this, Client);\n  }\n\n  _createClass(Client, [{\n    key: \"signUp\",\n    value: function signUp(email, password) {\n      return firebase.app.auth().createUserWithEmailAndPassword(email, password).then(function (res) {\n        res.user.sendEmailVerification().then(function (action) {\n          console.log('Verification email sent');\n          firebase.ref(\"/client\").child(res.user.uid).set({\n            email: email,\n            password: password,\n            uid: res.user.uid\n          });\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"signIn\",\n    value: function signIn(email, password, navigation) {\n      firebase.app.auth().signInWithEmailAndPassword(email, password).then(function (res) {\n        if (res.user.emailVerified) {\n          console.log('email verified');\n          navigation.navigate('/bottomTab');\n          localStorage.setItem('userid', res.user.uid);\n          console.log('userid', res.user.uid);\n        } else {\n          console.log('Please verify your email address ');\n          res.user.sendEmailVerification().then(function (res) {\n            console.log('we send an email again, please verify your email');\n          }).catch(function (err) {\n            console.log(err.message);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"resetPassword\",\n    value: function resetPassword(email) {\n      auth.sendPasswordResetEmail(email).then(function () {\n        console.log('password reset');\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"getLoggedData\",\n    value: function getLoggedData(id) {\n      return firebase.ref(\"/user/\" + id);\n    }\n  }, {\n    key: \"logOut\",\n    value: function logOut(navigation) {\n      firebase.app.auth().signOut().then(function () {\n        console.log('logged out');\n        localStorage.removeItem('userid');\n        navigation.goBack();\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }]);\n\n  return Client;\n}();\n\nexport default new Client();","map":{"version":3,"sources":["C:/Users/CodeTribe00H/Desktop/HotelApplication/hotelapp-system/hotel-app/hotel-app/Components/firebase/authentication.jsx"],"names":["firebase","db","ref","auth","app","Client","email","password","createUserWithEmailAndPassword","then","res","user","sendEmailVerification","action","console","log","child","uid","set","catch","err","message","navigation","signInWithEmailAndPassword","emailVerified","navigate","localStorage","setItem","sendPasswordResetEmail","id","signOut","removeItem","goBack"],"mappings":"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","sourcesContent":["import firebase from './firebase'\r\n\r\nconst db = firebase.ref('/client')\r\nconst auth = firebase.app.auth()\r\n\r\nclass Client{\r\n     signUp(email,password,) {\r\n        return firebase.app.auth().createUserWithEmailAndPassword(email, password).then(res => {\r\n            res.user.sendEmailVerification().then( action => {\r\n                console.log('Verification email sent')\r\n                firebase.ref(`/client`).child(res.user.uid).set({\r\n                \r\n                    email: email,\r\n                    password:password,\r\n                    uid: res.user.uid\r\n                })\r\n            }).catch( err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err.message)\r\n        })\r\n    }\r\n    signIn(email,password,navigation){\r\n        firebase.app.auth().signInWithEmailAndPassword(email,password).then(res=>{\r\n            if(res.user.emailVerified){\r\n                console.log('email verified')\r\n                navigation.navigate('/bottomTab')\r\n                localStorage.setItem('userid',res.user.uid)\r\n                console.log('userid',res.user.uid)\r\n            }else {\r\n                console.log('Please verify your email address ')\r\n                res.user.sendEmailVerification().then(res=>{\r\n                    console.log('we send an email again, please verify your email')\r\n                }).catch(err =>{\r\n                    console.log(err.message)\r\n                })\r\n            }\r\n        })\r\n    }\r\n    resetPassword(email){\r\n        auth.sendPasswordResetEmail(email).then(()=>{\r\n            console.log('password reset')\r\n        }).catch(err=>{\r\n            console.log(err.message)\r\n        })\r\n    }\r\n    getLoggedData(id){\r\n        return firebase.ref(`/user/${id}`)\r\n    }\r\n    logOut(navigation){\r\n        firebase.app.auth().signOut().then(() => {\r\n            console.log('logged out')\r\n            localStorage.removeItem('userid')\r\n            navigation.goBack()\r\n        }).catch(err => {\r\n            console.log(err.message)\r\n        })\r\n    }\r\n}\r\nexport default new Client()"]},"metadata":{},"sourceType":"module"}