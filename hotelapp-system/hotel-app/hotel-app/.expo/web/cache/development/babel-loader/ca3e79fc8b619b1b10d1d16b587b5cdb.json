{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport firebase from \"./firebase\";\nvar db = firebase.ref('/client');\nvar auth = firebase.app.auth();\n\nvar Client = function () {\n  function Client() {\n    _classCallCheck(this, Client);\n  }\n\n  _createClass(Client, [{\n    key: \"signUp\",\n    value: function signUp(email, password, confirm) {\n      return firebase.app.auth().createUserWithEmailAndPassword(email, password).then(function (res) {\n        res.user.sendEmailVerification().then(function (action) {\n          console.log('Verification email sent');\n          firebase.ref(\"/client\").child(res.user.uid).set({\n            name: name,\n            email: email,\n            uid: res.user.uid\n          });\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"signIn\",\n    value: function signIn(email, password, navigation) {\n      firebase.app.auth().signInWithEmailAndPassword(email, password).then(function (res) {\n        if (res.user.emailVerified) {\n          console.log('email verified');\n          navigation.navigate('/bottomTab');\n          localStorage.setItem('userid', res.user.uid);\n          console.log('userid', res.user.uid);\n        } else {\n          console.log('Please verify your email address ');\n          res.user.sendEmailVerification().then(function (res) {\n            console.log('we send an email again, please verify your email');\n          }).catch(function (err) {\n            console.log(err.message);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"resetPassword\",\n    value: function resetPassword(email) {\n      auth.sendPasswordResetEmail(email).then(function () {\n        console.log('password reset');\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }, {\n    key: \"getLoggedData\",\n    value: function getLoggedData(id) {\n      return firebase.ref(\"/user/\" + id);\n    }\n  }, {\n    key: \"logOut\",\n    value: function logOut(navigation) {\n      firebase.app.auth().signOut().then(function () {\n        console.log('logged out');\n        localStorage.removeItem('userid');\n        navigation.goBack();\n      }).catch(function (err) {\n        console.log(err.message);\n      });\n    }\n  }]);\n\n  return Client;\n}();\n\nexport default new Client();","map":{"version":3,"sources":["C:/Users/CodeTribe00H/Desktop/HotelApplication/hotelapp-system/hotel-app/hotel-app/Components/firebase/authentication.jsx"],"names":["firebase","db","ref","auth","app","Client","email","password","confirm","createUserWithEmailAndPassword","then","res","user","sendEmailVerification","action","console","log","child","uid","set","name","catch","err","message","navigation","signInWithEmailAndPassword","emailVerified","navigate","localStorage","setItem","sendPasswordResetEmail","id","signOut","removeItem","goBack"],"mappings":"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","sourcesContent":["import firebase from './firebase'\r\n\r\nconst db = firebase.ref('/client')\r\nconst auth = firebase.app.auth()\r\n\r\nclass Client{\r\n     signUp(email,password,confirm) {\r\n        return firebase.app.auth().createUserWithEmailAndPassword(email, password).then(res => {\r\n            res.user.sendEmailVerification().then( action => {\r\n                console.log('Verification email sent')\r\n                firebase.ref(`/client`).child(res.user.uid).set({\r\n                    name : name,\r\n                    email: email,\r\n                    uid: res.user.uid\r\n                })\r\n            }).catch( err => {\r\n                console.log(err)\r\n            })\r\n        }).catch(err => {\r\n            console.log(err.message)\r\n        })\r\n    }\r\n    signIn(email,password,navigation){\r\n        firebase.app.auth().signInWithEmailAndPassword(email,password).then(res=>{\r\n            if(res.user.emailVerified){\r\n                console.log('email verified')\r\n                navigation.navigate('/bottomTab')\r\n                localStorage.setItem('userid',res.user.uid)\r\n                console.log('userid',res.user.uid)\r\n            }else {\r\n                console.log('Please verify your email address ')\r\n                res.user.sendEmailVerification().then(res=>{\r\n                    console.log('we send an email again, please verify your email')\r\n                }).catch(err =>{\r\n                    console.log(err.message)\r\n                })\r\n            }\r\n        })\r\n    }\r\n    resetPassword(email){\r\n        auth.sendPasswordResetEmail(email).then(()=>{\r\n            console.log('password reset')\r\n        }).catch(err=>{\r\n            console.log(err.message)\r\n        })\r\n    }\r\n    getLoggedData(id){\r\n        return firebase.ref(`/user/${id}`)\r\n    }\r\n    logOut(navigation){\r\n        firebase.app.auth().signOut().then(() => {\r\n            console.log('logged out')\r\n            localStorage.removeItem('userid')\r\n            navigation.goBack()\r\n        }).catch(err => {\r\n            console.log(err.message)\r\n        })\r\n    }\r\n}\r\nexport default new Client()"]},"metadata":{},"sourceType":"module"}